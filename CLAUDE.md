# CLAUDE.md

이 파일은 이 저장소에서 작업할 때 Claude Code (claude.ai/code)에게 가이드라인을 제공합니다.

## 프로젝트 개요
Bling-Bling은 동호회 볼링 점수 관리 및 통계 분석 시스템입니다. 볼링 화이트보드 사진을 업로드하면 OCR을 통해 회원 이름과 점수를 자동으로 인식하고, Supabase DB에 저장한 후 다양한 통계 분석을 제공하는 React 기반 웹 애플리케이션입니다.

## MCP 서버 설정
이 프로젝트는 다음 MCP 서버들이 필요합니다:

- **Supabase MCP 서버**: 데이터베이스 연동 (project-ref: vpaomoinssfzlyqzrdfu)
- **Context7 MCP 서버**: 기술 문서 검색 및 지식 관리

MCP 설정은 `.mcp.json` 파일에 저장되어 있으며 Claude Code 사용 시 자동으로 로드됩니다.

## 개발 명령어
```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로젝트 빌드
npm run build

# 테스트 실행
npm test

# 린트 검사
npm run lint

# 타입 검사
npm run typecheck
```

## 기술 스택

### 프론트엔드
- **React 18** + **TypeScript**
- **Vite** (빌드 도구)
- **TailwindCSS** (스타일링)
- **React Router** (라우팅)
- **React Hook Form** (폼 관리)
- **React Query** (데이터 fetching)

### 이미지 처리 & OCR
- **Tesseract.js** (브라우저 OCR)
- **Canvas API** (이미지 전처리)

### 백엔드 & 데이터베이스
- **Supabase** 
  - PostgreSQL 데이터베이스
  - Storage (이미지 파일)
  - Row Level Security
  - Real-time 기능

## 프로젝트 구조
```
bling-bling/
├── public/             # 정적 파일
├── src/
│   ├── components/     # 재사용 가능한 컴포넌트
│   │   ├── ui/        # 기본 UI 컴포넌트
│   │   ├── forms/     # 폼 관련 컴포넌트
│   │   └── charts/    # 차트 컴포넌트
│   ├── pages/         # 페이지 컴포넌트
│   ├── hooks/         # 커스텀 훅
│   ├── services/      # API 호출 및 비즈니스 로직
│   ├── utils/         # 유틸리티 함수
│   ├── types/         # TypeScript 타입 정의
│   ├── stores/        # 상태 관리
│   └── styles/        # 글로벌 스타일
├── .mcp.json          # MCP 서버 설정
└── supabase/          # Supabase 설정 및 마이그레이션
```

## 데이터베이스 스키마

### 주요 테이블
- **members**: 동호회 회원 정보
- **game_sessions**: 볼링 게임 세션
- **game_results**: 개별 게임 결과 (3게임)
- **upload_history**: 이미지 업로드 기록

## 개발 가이드라인

### 프로젝트 메모리

#### 데이터 모델링
- 게임 정보의 key는 날짜와 레인번호로 한다.
- 게임날은 모두 수요일이다.

### 기술 문서 검색 우선순위
1. **Context7 MCP 서버 우선 사용** - 모든 기술적 질문과 문서 검색
2. 검색 결과는 팀과 공유하여 문서화
3. DEVELOPMENT_GUIDE.md의 세부 프로세스 준수

### 코딩 표준
- **ES6+** 문법 사용
- **TypeScript** 타입 안정성 확보
- **함수형 프로그래밍** 접근 방식 선호
- **camelCase** (변수/함수), **PascalCase** (컴포넌트/클래스)
- **kebab-case** (파일명)

### OCR 및 이미지 처리
- Tesseract.js 사용하여 브라우저에서 OCR 처리
- 이미지 전처리로 인식률 향상
- 볼링 점수 패턴에 특화된 후처리 로직 구현

### 개발 워크플로우
1. Context7 MCP로 관련 기술 검색
2. 기능 설계 및 타입 정의
3. 컴포넌트 개발 (TDD 권장)
4. Supabase 연동 및 데이터 처리
5. 테스트 및 린트 검사
6. 코드 리뷰 및 문서화

## 주요 파일
- `README.md`: 프로젝트 개요 및 설치 가이드
- `DEVELOPMENT_GUIDE.md`: 상세한 개발 표준 및 워크플로우
- `CONTEXT7_GUIDE.md`: Context7 MCP 서버 활용 가이드
- `.mcp.json`: MCP 서버 설정
- `src/types/`: TypeScript 타입 정의
- `supabase/`: 데이터베이스 마이그레이션 및 설정

## 동호회원 공유 콘텐츠 가이드

### 1. 개인 성장 및 동기부여 자료
- **개인 점수 향상 그래프**: 월별/연도별 평균 점수 추이 시각화
- **개인 기록 달성 현황**: 목표 점수 달성률, 최고 기록 갱신 이력
- **실력 향상률 랭킹**: 전월 대비 점수 상승률 순위 (개선왕 선정)
- **개인 플레이 스타일 분석**: 스트라이크/스페어 비율, 안정성 지수
- **맞춤형 개선 포인트**: 개인별 데이터 기반 실력 향상 조언

### 2. 재미있는 통계 및 트리비아
- **행운의 요일/시간대**: 요일별, 시간대별 평균 점수 패턴 분석
- **날씨와 점수 상관관계**: 기상 데이터와 볼링 성과의 연관성
- **연속 스트라이크 기록**: 개인별/전체 최고 연속 스트라이크 랭킹
- **컴백왕**: 1게임에서 3게임으로 가장 큰 점수 상승을 보인 기록
- **아차상**: 200점에 가장 가까웠지만 놓친 아쉬운 기록들
- **특별한 점수**: 더블, 트리플 등 특정 숫자가 반복되는 점수 달성자

### 3. 그룹 역학 및 경쟁 분석
- **베스트 파트너**: 함께 게임할 때 점수가 가장 오르는 조합 분석
- **라이벌 매치업**: 특정 회원들 간의 승부 기록 및 대결 통계
- **팀별 시너지 분석**: 팀 구성에 따른 평균 점수 변화 패턴
- **멘토-멘티 관계**: 경험자와 신입의 점수 향상 상관관계
- **분위기 메이커**: 함께할 때 전체 분위기와 평균 점수가 오르는 회원

### 4. 동호회 문화 및 참여도 분석
- **월간/연간 MVP**: 다양한 기준의 최우수 선수 선정
  - 최고 평균 점수, 최대 향상률, 꾸준함, 팀워크 등
- **참석왕**: 가장 꾸준히 참석하는 회원 순위 및 출석률 통계
- **신기록 달성자**: 최근 개인 최고 기록을 세운 회원들 하이라이트
- **도전 정신상**: 새로운 기술이나 목표에 도전하는 회원 인정

### 5. 시즌/이벤트 기반 컨텐츠
- **월간/계절별 리포트**: 전체 동호회 트렌드 및 하이라이트
- **토너먼트 결과**: 특별 경기 결과와 명장면 모음
- **기념일 특집**: 동호회 창립일, 특별한 날의 기록 회고
- **예측 게임**: 다음 게임 점수 예측 이벤트 및 결과 분석
- **테마별 챌린지**: 월간 특별 미션 및 달성 현황

### 6. 교육 및 팁 공유
- **데이터로 보는 볼링 팁**: 실제 회원 데이터 분석 결과 기반 조언
- **실수 패턴 분석**: 흔한 실수 유형과 데이터 기반 개선 방법
- **장비/기술 상관관계**: 사용 장비와 점수의 상관관계 분석
- **고수의 비법**: 고득점자들의 공통 패턴 및 전략 분석
- **초보자 가이드**: 신입 회원을 위한 맞춤형 가이드

### 7. 소셜 및 커뮤니티 요소
- **이달의 명언/재미있는 순간**: 게임 중 나온 인상적인 발언 모음
- **사진/영상 하이라이트**: 퍼펙트 게임, 명장면 등 비주얼 컨텐츠
- **회원 스포트라이트**: 매월 한 명씩 회원 인터뷰 및 소개
- **동호회 연혁**: 주요 이벤트와 기록들의 타임라인
- **추억의 게임**: 과거 인상적인 경기 회고 및 재분석

### 8. 게임화 요소
- **업적 시스템**: 다양한 도전 과제와 달성 시 부여되는 배지
  - 첫 스트라이크, 100점 돌파, 연속 참석 등
- **레벨 시스템**: 점수 구간별 등급 분류 (브론즈→실버→골드→플래티넘)
- **특별 칭호**: 특정 조건 달성 시 부여되는 재미있는 별명
  - "스트라이크 킹", "컴백 마스터", "안정의 제왕" 등
- **시즌 패스**: 기간별 목표 달성 체크리스트 및 보상 시스템
- **경험치 시스템**: 게임 참여, 기록 달성 등으로 쌓이는 포인트

### 9. 심화 분석 리포트
- **플레이 패턴 분석**: 개인별 게임 진행 패턴 및 특징
- **심리적 요인 분석**: 압박 상황에서의 성과 변화 패턴
- **장기 트렌드**: 계절별, 연도별 장기 데이터 트렌드 분석
- **비교 분석**: 타 동호회 또는 전국 평균과의 비교 데이터

## 구현 우선순위
1. **기본 개인 통계** (평균, 최고점, 추이)
2. **그룹 랭킹 및 MVP 시스템**
3. **재미있는 통계** (행운의 요일, 특별 기록)
4. **게임화 요소** (업적, 칭호)
5. **심화 분석** (패턴 분석, 예측)

## 특별 고려사항
- **모바일 우선** 반응형 디자인
- **PWA** 기능으로 오프라인 지원
- **실시간 업데이트** (Supabase Realtime)
- **이미지 최적화** 및 **OCR 성능** 튜닝
- **접근성(a11y)** 기준 준수
- 한국어 볼링 용어 및 이름 패턴 최적화
- **개인정보 보호** 및 **데이터 익명화** 고려